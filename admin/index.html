<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lead Management - Greenlight Automotive CRM</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/admin-styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <a href="/" class="back-to-site">
            <i class="fas fa-arrow-left"></i> Back to Site
        </a>
        <div class="login-container">
            <div class="login-header">
                <h1 class="domain-header">www.greenlightautomotive.ca</h1>
                <p>Sales Lead Management System</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username">
                        <i class="fas fa-user"></i> Username
                    </label>
                    <input type="text" id="username" name="username" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="password">
                        <i class="fas fa-lock"></i> Password
                    </label>
                    <input type="password" id="password" name="password" required autocomplete="current-password">
                </div>
                <button type="submit" class="btn-login">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
                <div id="loginError" class="error-message" style="display: none;"></div>
            </form>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboardScreen" class="dashboard-screen" style="display: none;">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-content">
                <div class="header-left">
                    <h1>www.greenlightautomotive.ca</h1>
                </div>
                <div class="header-right">
                    <span class="user-info">
                        <i class="fas fa-user-circle"></i>
                        <span id="currentUser"></span>
                    </span>
                    <button id="logoutBtn" class="btn-logout">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </header>

        <!-- Stats Dashboard -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #6366f1, #8b5cf6);">
                    <i class="fas fa-file-alt"></i>
                </div>
                <div class="stat-content">
                    <h3 id="totalLeads">0</h3>
                    <p>Total Leads</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                    <i class="fas fa-calendar-day"></i>
                </div>
                <div class="stat-content">
                    <h3 id="todayLeads">0</h3>
                    <p>Today's Leads</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-content">
                    <h3 id="weekLeads">0</h3>
                    <p>This Week</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #ec4899, #db2777);">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <div class="stat-content">
                    <h3 id="monthLeads">0</h3>
                    <p>This Month</p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Controls -->
            <div class="controls-bar">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search by name, email, or phone...">
                </div>
                <div class="filter-controls">
                    <select id="vehicleFilter" class="filter-select">
                        <option value="">All Vehicles</option>
                        <option value="Sedan">Sedan</option>
                        <option value="SUV">SUV</option>
                        <option value="Truck">Truck</option>
                        <option value="Coupe">Coupe</option>
                        <option value="Hatchback">Hatchback</option>
                        <option value="Van">Van</option>
                    </select>
                    <select id="creditFilter" class="filter-select">
                        <option value="">All Credit Scores</option>
                        <option value="Excellent">Excellent (750+)</option>
                        <option value="Good">Good (700-749)</option>
                        <option value="Fair">Fair (650-699)</option>
                        <option value="Building">Building Credit</option>
                    </select>
                    <button id="exportBtn" class="btn-export">
                        <i class="fas fa-file-export"></i> Export CSV
                    </button>
                    <button id="refreshBtn" class="btn-refresh">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
            </div>

            <!-- Leads Table -->
            <div class="table-container">
                <table class="leads-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Date</th>
                            <th>Customer Name</th>
                            <th>Contact</th>
                            <th>Vehicle Type</th>
                            <th>Budget</th>
                            <th>Credit Score</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="leadsTableBody">
                        <tr class="loading-row">
                            <td colspan="8">
                                <i class="fas fa-spinner fa-spin"></i> Loading leads...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Lead Detail Modal -->
    <div id="leadModal" class="modal">
        <div class="modal-content lead-detail-modal">
            <div class="modal-header">
                <h2><i class="fas fa-user-tie"></i> Lead Details</h2>
                <button class="close-modal" onclick="closeLeadModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="leadDetailContent" class="modal-body">
                <!-- Lead details will be inserted here -->
            </div>
            <div class="modal-footer">
                <button onclick="printLead()" class="btn-print">
                    <i class="fas fa-print"></i> Print Lead Sheet
                </button>
                <button onclick="closeLeadModal()" class="btn-secondary">
                    Close
                </button>
            </div>
        </div>
    </div>

    <script src="../assets/js/admin-dashboard.js"></script>
</body>
</html>
